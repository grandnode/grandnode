/** 
 * Kendo UI v2016.2.504 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("kendo.multiselect.min",["kendo.list.min","kendo.mobile.scroller.min"],e)}(function(){return function(e,t){function i(e,t){var i;if(null===e&&null!==t||null!==e&&null===t)return!1;if(i=e.length,i!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0}var a=window.kendo,s=a.ui,n=s.List,l=a.keys,o=a._activeElement,r=a.data.ObservableArray,u=e.proxy,c="id",d="li",p="accept",h="filter",_="rebind",f="open",m="close",g="change",v="progress",w="select",T="aria-disabled",b="aria-readonly",k="k-state-focused",y="k-loading-hidden",V="k-state-hover",x="k-state-disabled",C="disabled",S="readonly",I=".kendoMultiSelect",D="click"+I,L="keydown"+I,F="mouseenter"+I,O="mouseleave"+I,B=F+" "+O,A=/"/g,E=e.isArray,H=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],M=n.extend({init:function(t,i){var s,l,o=this;o.ns=I,n.fn.init.call(o,t,i),o._optionsMap={},o._customOptions={},o._wrapper(),o._tagList(),o._input(),o._textContainer(),o._loader(),o._tabindex(o.input),t=o.element.attr("multiple","multiple").hide(),i=o.options,i.placeholder||(i.placeholder=t.data("placeholder")),s=t.attr(c),s&&(o._tagID=s+"_tag_active",s+="_taglist",o.tagList.attr(c,s)),o._aria(s),o._dataSource(),o._ignoreCase(),o._popup(),o._tagTemplate(),o._initList(),o._reset(),o._enable(),o._placeholder(),i.autoBind?o.dataSource.fetch():i.value&&o._preselect(i.value),l=e(o.element).parents("fieldset").is(":disabled"),l&&o.enable(!1),a.notify(o)},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:[f,m,g,w,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._state="",this._dataSource(),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);n.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(this.tagList.attr(c)),this._tagTemplate()},currentTag:function(e){var i=this;return e===t?i._currentTag:(i._currentTag&&(i._currentTag.removeClass(k).removeAttr(c),i.input.removeAttr("aria-activedescendant")),e&&(e.addClass(k).attr(c,i._tagID),i.input.attr("aria-activedescendant",i._tagID)),i._currentTag=e,t)},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this,t=e.ns;clearTimeout(e._busy),clearTimeout(e._typingTimeout),e.wrapper.off(t),e.tagList.off(t),e.input.off(t),n.fn.destroy.call(e)},_activateItem:function(){n.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(t){var i=this,s=n.fn._listOptions.call(i,e.extend(t,{selectedItemChange:u(i._selectedItemChange,i),selectable:"multiple"})),l=this.options.itemTemplate||this.options.template,o=s.itemTemplate||l||s.template;return o||(o="#:"+a.expr(s.dataTextField,"data")+"#"),s.template=o,s},_setListValue:function(){n.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){this._state===_&&(this._state="",e.added=[]),this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t,i,a=e.items;for(i=0;a.length>i;i++)t=a[i],this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item))},_wrapperMousedown:function(t){var i=this,s="input"!==t.target.nodeName.toLowerCase(),n=e(t.target),l=n.hasClass("k-select")||n.hasClass("k-icon");l&&(l=!n.closest(".k-select").children(".k-i-arrow-s").length),!s||l&&a.support.mobileOS||t.preventDefault(),l||(i.input[0]!==o()&&s&&i.input.focus(),0===i.options.minLength&&i.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass(k)},_inputFocusout:function(){var e=this;clearTimeout(e._typingTimeout),e.wrapper.removeClass(k),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===h&&(e._state=p,e.listView.skipUpdate(!0)),e.element.blur()},_removeTag:function(e){var i,a=this,s=a._state,n=e.index(),l=a.listView,o=l.value()[n],r=a._customOptions[o];r!==t||s!==p&&s!==h||(r=a._optionsMap[o]),r!==t?(i=a.element[0].children[r],i.removeAttribute("selected"),i.selected=!1,l.removeAt(n),e.remove()):l.select(l.select()[n]),a.currentTag(null),a._change(),a._close()},_tagListClick:function(t){var i=e(t.currentTarget);i.children(".k-i-arrow-s").length||this._removeTag(i.closest(d))},_editable:function(t){var i=this,a=t.disable,s=t.readonly,n=i.wrapper.off(I),l=i.tagList.off(I),o=i.element.add(i.input.off(I));s||a?(a?n.addClass(x):n.removeClass(x),o.attr(C,a).attr(S,s).attr(T,a).attr(b,s)):(n.removeClass(x).on(B,i._toggleHover).on("mousedown"+I+" touchend"+I,u(i._wrapperMousedown,i)),i.input.on(L,u(i._keydown,i)).on("paste"+I,u(i._search,i)).on("focus"+I,u(i._inputFocus,i)).on("focusout"+I,u(i._inputFocusout,i)),o.removeAttr(C).removeAttr(S).attr(T,!1).attr(b,!1),l.on(F,d,function(){e(this).addClass(V)}).on(O,d,function(){e(this).removeClass(V)}).on(D,"li.k-button .k-select",u(i._tagListClick,i)))},_close:function(){var e=this;e.options.autoClose?e.close():e.popup.position()},_filterSource:function(e,t){t||(t=this._retrieveData),this._retrieveData=!1,n.fn._filterSource.call(this,e,t)},close:function(){this.popup.close()},open:function(){var e=this;e._request&&(e._retrieveData=!1),e._retrieveData||!e.listView.bound()||e._state===p?(e._open=!0,e._state=_,e.listView.skipUpdate(!0),e._filterSource()):e._allowSelection()&&(e.popup.open(),e._focusItem())},toggle:function(e){e=e!==t?e:!this.popup.visible(),this[e?f:m]()},refresh:function(){this.listView.refresh()},_angularItems:function(t){var i=this;i.angular(t,function(){return{elements:i.items(),data:e.map(i.dataSource.flatView(),function(e){return{dataItem:e}})}})},_listBound:function(){var e=this,i=e.dataSource.flatView(),a=e.listView.skip(),s=i.length;e._angularItems("compile"),e._render(i),e._resizePopup(),e._open&&(e._open=!1,e.toggle(s)),e.popup.position(),!e.options.highlightFirst||a!==t&&0!==a||e.listView.focusFirst(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e._makeUnselectable(),e.trigger("dataBound")},search:function(e){var t,i,a=this,s=a.options,n=s.ignoreCase,l=s.dataTextField,o=a.input.val();s.placeholder===o&&(o=""),clearTimeout(a._typingTimeout),e="string"==typeof e?e:o,i=e.length,(!i||i>=s.minLength)&&(a._state=h,a._open=!0,t={value:n?e.toLowerCase():e,field:l,operator:s.filter,ignoreCase:n},a._filterSource(t))},value:function(e){var i=this,a=i.listView,s=a.value().slice(),n=i.options.maxSelectedItems,l=a.bound()&&a.isFiltered();return e===t?s:(e=i._normalizeValues(e),null!==n&&e.length>n&&(e=e.slice(0,n)),l&&i._clearFilter(),a.value(e),i._old=e,l||i._fetchData(),t)},_preselect:function(t,i){var s=this;E(t)||t instanceof a.data.ObservableArray||(t=[t]),(e.isPlainObject(t[0])||t[0]instanceof a.data.ObservableObject||!s.options.dataValueField)&&(s.dataSource.data(t),s.value(i||s._initialValues),s._retrieveData=!0)},_setOption:function(e,t){var i=this.element[0].children[this._optionsMap[e]];i&&(t?i.setAttribute("selected","selected"):i.removeAttribute("selected"),i.selected=t)},_fetchData:function(){var e=this,t=!!e.dataSource.view().length,i=0===e.listView.value().length;i||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done(function(){e._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var e=this,t=e.element,i=e.options,s=i.dataSource||{};s=E(s)?{data:s}:s,s.select=t,s.fields=[{field:i.dataTextField},{field:i.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=u(e._showBusy,e),e._errorHandler=u(e._hideBusy,e)),e.dataSource=a.data.DataSource.create(s).bind(v,e._progressHandler).bind("error",e._errorHandler)},_reset:function(){var t=this,i=t.element,a=i.attr("form"),s=a?e("#"+a):i.closest("form");s[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues),t._placeholder()})},t._form=s.on("reset",t._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(t){var i=this;return null===t?t=[]:t&&e.isPlainObject(t)?t=[i._value(t)]:t&&e.isPlainObject(t[0])?t=e.map(t,function(e){return i._value(e)}):E(t)||t instanceof r||(t=[t]),t},_change:function(){var e=this,t=e.value();i(t,e._old)||(e._old=t.slice(),e.trigger(g),e.element.trigger(g))},_click:function(e){var i=e.item;return e.preventDefault(),this.trigger(w,{item:i})?(this._close(),t):(this._select(i),this._change(),this._close(),t)},_keydown:function(i){var s=this,n=i.keyCode,o=s._currentTag,r=s.listView.focus(),u=s.input.val(),c=a.support.isRtl(s.wrapper),d=s.popup.visible();if(n===l.DOWN){if(i.preventDefault(),!d)return s.open(),r||this.listView.focusFirst(),t;r?(this.listView.focusNext(),this.listView.focus()||this.listView.focusLast()):this.listView.focusFirst()}else if(n===l.UP)d&&(r&&this.listView.focusPrev(),this.listView.focus()||s.close()),i.preventDefault();else if(n===l.LEFT&&!c||n===l.RIGHT&&c)u||(o=o?o.prev():e(s.tagList[0].lastChild),o[0]&&s.currentTag(o));else if(n===l.RIGHT&&!c||n===l.LEFT&&c)!u&&o&&(o=o.next(),s.currentTag(o[0]?o:null));else if(n===l.ENTER&&d){if(r){if(s.trigger(w,{item:r}))return s._close(),t;s._select(r)}s._change(),s._close(),i.preventDefault()}else n===l.ESC?(d?i.preventDefault():s.currentTag(null),s.close()):n===l.HOME?d?this.listView.focusFirst():u||(o=s.tagList[0].firstChild,o&&s.currentTag(e(o))):n===l.END?d?this.listView.focusLast():u||(o=s.tagList[0].lastChild,o&&s.currentTag(e(o))):n!==l.DELETE&&n!==l.BACKSPACE||u?(clearTimeout(s._typingTimeout),setTimeout(function(){s._scale()}),s._search()):(n!==l.BACKSPACE||o||(o=e(s.tagList[0].lastChild)),o&&o[0]&&s._removeTag(o))},_hideBusy:function(){var e=this;clearTimeout(e._busy),e.input.attr("aria-busy",!1),e._loading.addClass(y),e._request=!1,e._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass(y)},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(u(e._showBusyHandler,e),100))},_placeholder:function(e,i){var s=this,n=s.input,l=o();e===t&&(e=!1,n[0]!==l&&(e=!s.listView.selectedDataItems()[0])),s._prev="",n.toggleClass("k-readonly",e).val(e?s.options.placeholder:""),n[0]!==l||i||a.caret(n[0],0,0),s._scale()},_scale:function(){var e,t=this,i=t.wrapper,a=i.width(),s=t._span.text(t.input.val());i.is(":visible")?e=s.width()+25:(s.appendTo(document.documentElement),a=e=s.width()+25,s.appendTo(i)),t.input.width(e>a?a:e)},_option:function(e,i,s){var n="<option";return e!==t&&(e+="",-1!==e.indexOf('"')&&(e=e.replace(A,"&quot;")),n+=' value="'+e+'"'),s&&(n+=" selected"),n+=">",i!==t&&(n+=a.htmlEncode(i)),n+="</option>"},_render:function(e){var t,i,a,s,n,l,o=this.listView.selectedDataItems(),r=this.listView.value(),u=e.length,c="";for(r.length!==o.length&&(o=this._buildSelectedItems(r)),n={},l={},s=0;u>s;s++)i=e[s],a=this._value(i),t=this._selectedItemIndex(a,o),-1!==t&&o.splice(t,1),l[a]=s,c+=this._option(a,this._text(i),-1!==t);if(o.length)for(s=0;o.length>s;s++)i=o[s],a=this._value(i),n[a]=u,l[a]=u,u+=1,c+=this._option(a,this._text(i),!0);this._customOptions=n,this._optionsMap=l,this.element.html(c)},_buildSelectedItems:function(e){var t,i,a=this.options.dataValueField,s=this.options.dataTextField,n=[];for(i=0;e.length>i;i++)t={},t[a]=e[i],t[s]=e[i],n.push(t);return n},_selectedItemIndex:function(e,t){for(var i=this._value,a=0;t.length>a;a++)if(e===i(t[a]))return a;return-1},_search:function(){var e=this;e._typingTimeout=setTimeout(function(){var t=e.input.val();e._prev!==t&&(e._prev=t,e.search(t))},e.options.delay)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},_angularTagItems:function(t){var i=this;i.angular(t,function(){return{elements:i.tagList[0].children,data:e.map(i.dataItems(),function(e){return{dataItem:e}})}})},_selectValue:function(e,t){var i,a,s,n=this,l=n.value(),o=n.dataSource.total(),r=n.tagList,u=n._value;if(n._angularTagItems("cleanup"),"multiple"===n.options.tagMode){for(s=t.length-1;s>-1;s--)i=t[s],r[0].removeChild(r[0].children[i.position]),n._setOption(u(i.dataItem),!1);for(s=0;e.length>s;s++)a=e[s],r.append(n.tagTemplate(a.dataItem)),n._setOption(u(a.dataItem),!0)}else{for((!n._maxTotal||o>n._maxTotal)&&(n._maxTotal=o),r.html(""),l.length&&r.append(n.tagTemplate({values:l,dataItems:n.dataItems(),maxTotal:n._maxTotal,currentTotal:o})),s=t.length-1;s>-1;s--)n._setOption(u(t[s].dataItem),!1);for(s=0;e.length>s;s++)n._setOption(u(e[s].dataItem),!0)}n._angularTagItems("compile"),n._placeholder()},_select:function(e){var t=this;t._state===_&&(t._state=""),t._allowSelection()&&(this.listView.select(e),t._placeholder(),t._state===h&&(t._state=p,t.listView.skipUpdate(!0)))},_input:function(){var t=this,i=t.element[0].accessKey,a=t._innerWrapper.children("input.k-input");a[0]||(a=e('<input class="k-input" style="width: 25px" />').appendTo(t._innerWrapper)),t.element.removeAttr("accesskey"),t._focused=t.input=a.attr({accesskey:i,autocomplete:"off",role:"listbox","aria-expanded":!1})},_tagList:function(){var t=this,i=t._innerWrapper.children("ul");i[0]||(i=e('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(t._innerWrapper)),t.tagList=i},_tagTemplate:function(){var e,t=this,i=t.options,s=i.tagTemplate,n=i.dataSource,l="multiple"===i.tagMode;t.element[0].length&&!n&&(i.dataTextField=i.dataTextField||"text",i.dataValueField=i.dataValueField||"value"),e=l?a.template("#:"+a.expr(i.dataTextField,"data")+"#",{useWithBlock:!1}):a.template("#:values.length# item(s) selected"),t.tagTextTemplate=s=s?a.template(s):e,t.tagTemplate=function(e){return'<li class="k-button" unselectable="on"><span unselectable="on">'+s(e)+'</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon '+(l?"k-i-close":"k-i-arrow-s")+'">'+(l?"delete":"open")+"</span></span></li>"}},_loader:function(){this._loading=e('<span class="k-icon k-loading '+y+'"></span>').insertAfter(this.input)},_textContainer:function(){var t=a.getComputedStyles(this.input[0],H);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var t=this,i=t.element,a=i.parent("span.k-multiselect");a[0]||(a=i.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),a[0].style.cssText=i[0].style.cssText,a[0].title=i[0].title,e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(i)),t.wrapper=a.addClass(i[0].className).css("display",""),t._innerWrapper=e(a[0].firstChild)}});s.plugin(M)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.multiselect.min.js.map
